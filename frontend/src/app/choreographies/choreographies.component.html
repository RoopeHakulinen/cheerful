<app-toolbar [title]="'CHOREOGRAPHIES.TITLE' | translate"></app-toolbar>
<div class="main-content">
  <mat-list class="side-list">
    <h3 mat-subheader translate="CHOREOGRAPHIES.MY_CHOREOGRAPHIES"></h3>
    <ng-container *ngIf="myTeams$ | async as myTeams">
      <ng-container [ngSwitch]="myTeams.status">
        <div *ngSwitchCase="'loading'" class="loading">
          <mat-progress-spinner diameter="30" mode="indeterminate"></mat-progress-spinner>
        </div>
        <div *ngSwitchCase="'error'">{{ 'COMMON.ERROR' | translate }}</div>
        <ng-container *ngSwitchDefault>
          <div *ngFor="let team of myTeams.data">
            <h3>{{ team.name }}</h3>
            <div *ngFor="let choreography of team.choreographies" class="list-item clickable">
              <mat-icon mat-list-icon>border_outer</mat-icon>
              <span [routerLink]="['/app/choreographies', choreography.id]" class="choreography-info">
                <p>{{ choreography.name }}</p>
              </span>
              <span (click)="deleteChoreography(choreography.id)"><mat-icon>remove</mat-icon></span>
            </div>
            <button mat-raised-button color="primary" (click)="createNewChoreography()">
              {{ 'COMMON.CREATE_NEW' | translate }}
            </button>
          </div>
        </ng-container>
      </ng-container>
    </ng-container>
  </mat-list>
  <div *ngIf="user$ | async as user">
    <h2>{{ 'COMMON.HELLO' | translate }} {{ user.firstName }}!</h2>
    <div>{{ 'COMMON.WELCOME_TEXT' | translate }}</div>
  </div>
</div>
